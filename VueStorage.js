!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.VueStorage=n()}(this,function(){"use strict";function f(t){return function(){return t}}function a(t){return"function"==typeof t}function h(){}function d(t){return void 0===t||null===t}function w(t){return t&&"object"==typeof t}var g,i={props:{t:{default:"local"}},data:function(){return{n:{}}},computed:{e:function(){return this.i.bind(this)},o:function(){switch(this.t){case"local":return window.localStorage;case"session":return window.sessionStorage}}},created:function(){window.addEventListener("storage",this.e)},beforeDestroy:function(){window.removeEventListener("storage",this.e)},methods:{i:function(t){this.r(t.key,t.newValue)},u:function(t){return this.s(t)||this.r(t,this.c(t)),this.f(t)},a:function(t,n){this.h(t,n),this.r(t,n)},s:function(t){return n=this.n,e=t,Object.prototype.hasOwnProperty.call(n,e);var n,e},f:function(t){return this.n[t]},r:function(t,n){d(n)&&(n=null),this.$set(this.n,t,n)},c:function(t){if(this.o)return this.o.getItem(t)},h:function(t,n){this.o&&(d(n)?this.o.removeItem(t):this.o.setItem(t,n))}}},t={install:function(t,n){void 0===n&&(n={});var e=n.storageType;void 0===e&&(e=i.props.t.default),Object.assign(t.config.optionMergeStrategies,{stored:function(t,n){return Object.assign({},n,t)}}),g=new(t.extend(i))({propsData:{t:e}}),t.mixin(this)},computed:{},beforeCreate:function(){var s=this,t=this.$options,c=t.computed,n=t.stored;n&&Object.entries(n).forEach(function(t){var n=t[0],e=t[1],i=f(n),o=h,r=String,u=String;e===String||(e===JSON?(r=JSON.parse.bind(JSON),u=JSON.stringify.bind(JSON)):w(e)&&(i=a(e.key)?e.key.bind(s):f(String(e.key)),o=a(e.default)?e.default.bind(s):f(e.default),e.type===String||(e.type===JSON?(r=JSON.parse.bind(JSON),u=JSON.stringify.bind(JSON)):w(e.type)&&(a(e.type.parse)&&(r=e.type.parse.bind(s)),a(e.type.stringify)&&(u=e.type.stringify.bind(s)))))),c[n]={get:function(){var t=i(),n=g.u(t);return n=d(n)?o():r(n)},set:function(t){var n=i();d(t)||(t=u(t)),g.a(n,t)}}})}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(t),t});
