(function(a){'undefined'!=typeof module&&'undefined'!=typeof exports&&this===exports?module.exports=a(require('vue')):this.VueStorage=a(this.Vue)}).call(this,function(a){let b=function(y){return null===y||y===void 0},c=function(y){return y&&'object'==typeof y},d=function(y,z){Object.prototype.hasOwnProperty.call(y,z)},e=function(y){return'function'==typeof y},f=function(y,z){let A;return e(y.key)&&(A=y.key.call(this)),b(A)&&(A=z),A},g=function(y){if(e(y.default))return y.default.call(this)},h=function(y){return''+y},i=function(y){return''+y},j=function(y){return Number.parseFloat(y)},k=i,l=function(y){return!!j(y)},m=function(y){return k(y?1:0)},n=function(y){return JSON.parse(y)},o=function(y){return JSON.stringify(y)},r=function(y,z){switch(y){case String:return h(z);case Number:return j(z);case Boolean:return l(z);case Object:return n(z);case Array:return n(z);}return c(y)&&e(y.parse)?y.parse.call(this,z):h(z)},s=function(y,z){switch(y){case String:return i(z);case Number:return k(z);case Boolean:return m(z);case Object:return o(z);case Array:return o(z);}return c(y)&&e(y.stringify)?y.stringify.call(this,z):i(z)},t=new a({data:{items:{}},created(){window.addEventListener('storage',this.StorageEventListener)},destroyed(){window.removeEventListener('storage',this.StorageEventListener)},computed:{StorageEventListener(){return this.onStorage.bind(this)}},methods:{onStorage(y){this.swssvicz(y.key,y.newValue)},getItem(y){return this.deudvorv(y)||this.jnfqybxp(y),this.cvsigybq(y)},setItem(y,z){this.hgegcsjt(y,z),this.swssvicz(y,z)},deudvorv(y){return d(this.items,y)},cvsigybq(y){return this.items[y]},jnfqybxp(y){let z=localStorage.getItem(y);this.swssvicz(y,z)},swssvicz(y,z){b(z)&&(z=null),a.set(this.items,y,z)},hgegcsjt(y,z){b(z)?(z=null,localStorage.removeItem(y)):localStorage.setItem(y,z)}}}),u=function(y,z){let A=f.call(this,y,z),B=t.getItem(A);return B=b(B)?g.call(this,y):r.call(this,y,B),B},v=function(y,z,A){let B=f.call(this,y,z);b(A)||(A=s.call(this,y,A)),t.setItem(B,A)},w={beforeCreate(){let y=this.$options.stored;if(y)for(let[z,A]of Object.entries(y))Object.assign(this.$options.computed,{[z]:{get(...B){return u.call(this,A,z,...B)},set(...B){return v.call(this,A,z,...B)}}})},computed:{}};return{install:function(y){y.mixin(w)}}});